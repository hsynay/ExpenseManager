{% extends "base.html" %}

{% block title %}Projeyi Düzenle{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-header">
                <h4 class="fw-bold mb-0">
                   <i class="fa-solid fa-pencil-alt me-2"></i> Projeyi Düzenle
                </h4>
            </div>
            <div class="card-body p-4">
                <!-- project[0]=id, project[1]=name, project[2]=address, project[3]=project_type, project[4]=total_floors, project[5]=total_flats -->
                <form method="POST" action="{{ url_for('edit_project', project_id=project[0]) }}">
                    <div class="mb-3">
                        <label for="name" class="form-label">Proje Adı (*)</label>
                        <input type="text" class="form-control" id="name" name="name" value="{{ project[1] }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Adres</label>
                        <textarea class="form-control" id="address" name="address" rows="3">{{ project[2] or '' }}</textarea>
                    </div>
                    <div class="mb-3">
                        <label for="project_type" class="form-label">Proje Tipi (*)</label>
                        <select class="form-select" id="project_type" name="project_type" required>
                            <option value="normal" {% if project[3] == 'normal' %}selected{% endif %}>Normal</option>
                            <option value="cooperative" {% if project[3] == 'cooperative' %}selected{% endif %}>Kooperatif</option>
                        </select>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="total_floors" class="form-label">Toplam Kat Sayısı</label>
                            <input type="number" class="form-control" id="total_floors" name="total_floors" value="{{ project[4] or '' }}">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="total_flats" class="form-label">Toplam Daire Sayısı</label>
                            <input type="number" class="form-control" id="total_flats" name="total_flats" value="{{ project[5] or '' }}">
                        </div>
                    </div>
                    <div class="d-flex justify-content-end mt-4">
                        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary me-2">
                            <i class="fa-solid fa-times me-1"></i>İptal
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="fa-solid fa-save me-1"></i>Değişiklikleri Kaydet ve Dairelere Git
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
